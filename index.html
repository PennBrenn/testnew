<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Star Rating System</title>
    <!-- Load Tailwind CSS from CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom CSS to ensure the star character renders clearly */
        .star-rating {
            font-size: 2.5rem; /* Larger stars for better touch/click targets */
            line-height: 1;
            display: inline-block;
            transition: color 0.2s ease;
        }
    </style>
</head>
<body class="min-h-screen bg-gray-50 flex items-center justify-center p-4 font-sans">

    <div id="review-container" class="p-8 bg-white rounded-xl shadow-2xl transition duration-300">
        <!-- The star rating elements -->
        <div class="flex justify-center" id="star-widget">
            <span class="star-rating text-gray-300 hover:text-yellow-400 cursor-pointer" data-value="1" aria-label="1 star rating">★</span>
            <span class="star-rating text-gray-300 hover:text-yellow-400 cursor-pointer" data-value="2" aria-label="2 star rating">★</span>
            <span class="star-rating text-gray-300 hover:text-yellow-400 cursor-pointer" data-value="3" aria-label="3 star rating">★</span>
            <span class="star-rating text-gray-300 hover:text-yellow-400 cursor-pointer" data-value="4" aria-label="4 star rating">★</span>
            <span class="star-rating text-gray-300 hover:text-yellow-400 cursor-pointer" data-value="5" aria-label="5 star rating">★</span>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const starWidget = document.getElementById('star-widget');
            const stars = starWidget.querySelectorAll('.star-rating');

            // This variable holds the rating that the user has permanently clicked.
            let currentRating = 0;

            // --- Helper Functions ---

            /**
             * Updates the visual display of the stars based on a given rating value.
             * @param {number} rating The value (1-5) to light up stars to.
             * @param {string} colorClass The Tailwind class for the filled star color.
             */
            const renderStars = (rating, colorClass) => {
                stars.forEach((star, index) => {
                    // Check if the current star index (0-4) is less than the rating value (1-5)
                    if (index < rating) {
                        star.classList.remove('text-gray-300');
                        star.classList.add(colorClass);
                    } else {
                        star.classList.remove(colorClass);
                        star.classList.add('text-gray-300');
                    }
                });
            };

            // --- Event Handlers ---

            // 1. Click Listener: Sets the permanent rating
            starWidget.addEventListener('click', (event) => {
                const star = event.target.closest('.star-rating');
                if (star) {
                    const ratingValue = parseInt(star.getAttribute('data-value'));
                    currentRating = ratingValue;
                    
                    // Render the permanent selection in a distinct yellow color
                    renderStars(currentRating, 'text-yellow-500');
                    
                    // OPTIONAL: Console log the saved rating
                    console.log(`Rating saved: ${currentRating} stars.`);
                }
            });

            // 2. Mouseover Listener: Shows temporary hover effect
            starWidget.addEventListener('mouseover', (event) => {
                const star = event.target.closest('.star-rating');
                if (star) {
                    const hoverValue = parseInt(star.getAttribute('data-value'));
                    
                    // Render the hover selection in a slightly lighter yellow
                    renderStars(hoverValue, 'text-yellow-400');
                }
            });

            // 3. Mouseout Listener: Reverts to the last clicked rating
            starWidget.addEventListener('mouseout', () => {
                // If there is a current rating, display it permanently (yellow-500).
                if (currentRating > 0) {
                    renderStars(currentRating, 'text-yellow-500');
                } else {
                    // If no rating is selected, revert all stars back to gray.
                    renderStars(0, 'text-yellow-400');
                }
            });

            // Initial state check (in case we wanted to load a previous rating)
            renderStars(currentRating, 'text-yellow-500');
        });
    </script>
</body>
</html>
